rules_version = '2';
service firebase.storage {
  match /b/{bucket}/o {
    // Encrypted media files in rooms
    // Anyone with the roomId can read/write - confidentiality relies on client-side encryption
    match /rooms/{roomId}/media/{fileId} {
      allow read, write: if request.auth == null; // Anonymous access
    }
  }
}



